syntax = "proto3";
package Protocol;

import "Enum.proto";
import "Struct.proto";

message C_CREATEACCOUNT
{
	string playerId = 1;
	string passward = 2;
}

message S_CREATEACCOUNT
{
	bool success = 1;
}

message C_LOGIN
{
	string playerId = 1;
	string passward = 2;
}

message S_LOGIN
{
	bool success = 1;
	repeated PlayerInfo players = 2;
	uint64 playerIndex = 3;
}

message C_LOGOUT
{
	string playerId = 1;
}

message S_LOGOUT
{
	uint64 playerIndex = 1;
}

message C_ENTER_GAME
{
	uint64 playerIndex = 1;
}

message S_ENTER_GAME
{
	bool success = 1;
	PlayerInfo player = 2;
}

message C_ENTER_ROOM
{
	string room_name = 1;
	PlayerInfo player = 2;
}

message S_ENTER_ROOM
{
	bool success = 1;
	PlayerInfo player = 2;
}

message C_LEAVE_GAME
{

}

message S_LEAVE_GAME
{

}

message S_SPAWN
{
	repeated ObjectInfo players = 1;
	repeated ObjectInfo monsters = 2;
}

message S_SPAWNPLAYER
{
	repeated PlayerInfo players = 1;
}

message S_SPAWNMONSTER
{
	repeated MonsterInfo monsters = 1;
}

message C_DROPITEM
{
	repeated ItemInfo items = 1;
}

message C_INVENTORY_UPDATE
{
	repeated uint32 index = 1;
	repeated ItemInfo items = 2;
}

message S_INVENTORY_UPDATE
{
	uint64 object_id = 1;
	repeated uint32 index = 2;
	repeated ItemInfo items = 3;
}

message C_INVENTORY_REMOVE
{
	repeated uint32 index = 1;
	repeated uint32 count_items = 2;
}

message S_INVENTORY_REMOVE
{
	uint64 object_id = 1;
	repeated uint32 index = 2;
	repeated uint32 count_items = 3;
}

message C_SWAP_INVENTORY_TO_INVENTORY
{
	uint64 from_object_id = 1;
	uint32 from_index = 2;
	uint32 from_count = 3;
	uint64 to_object_id = 4;
	uint32 to_index = 5;
}


message C_TRY_PICK_ITEM_TO_INVENTORY
{
	uint64 item_id = 1;
	uint64 to_object_id = 2;
	uint32 to_index = 3;
}

message S_SPAWNITEM
{
	repeated ObjectItemInfo items = 1;
}

message S_SPAWNBOX
{
	repeated ItemBoxInfo box = 1;
}

message S_DESPAWN
{
	repeated uint64 object_ids = 1;
}

message S_DEATH
{
	uint64 object_ids = 1;
}

message C_MOVE
{
	PosInfo info = 1;
}

message S_MOVE
{
	PosInfo info = 1;
}

message C_STATUS
{
	StatusInfo info = 1;
}

message S_STATUS
{
	StatusInfo info = 1;
}

message C_CHAT
{	
	uint64 playerId = 1;
	string msg = 2;
}

message S_CHAT
{
	string msg = 1;
}

message S_MELEEATTACK
{
	MeleeAttackInfo ability = 1;
}

message C_MELEEATTACK
{
	MeleeAttackInfo ability = 1;
}

message C_PATHFINDING
{
	repeated PosInfo info = 1;
}

message S_PATHFINDING
{
	repeated PosInfo info = 1;
}

message C_SHOOTPROJECTILE
{
	repeated ProjectileInfo info = 1;
	float shooter_yaw = 2;
}

message S_SHOOTPROJECTILE
{
	uint64 shooterid = 1;
	repeated ProjectileInfo info = 2;
	float shooter_yaw = 3;
}

message C_HITDAMAGE
{
	HitInfo info = 1;
}

message S_HITDAMAGE
{
	HitInfo info = 1;
}

message S_SHOP_ITEM_LIST
{
	ShopInfo info = 1;
}

message C_REFRESH_ITEM_LIST
{
	bool success = 1;
}

message C_BUY_SHOP_ITEM
{
	uint32 item_index = 1;
	bool full_inventory = 2;
	uint32 inventory_index = 3;
}

message S_BUY_SHOP_ITEM
{
	bool success = 1;
	uint32 item_index = 2;
	ShopItemInfo info = 3;
}

message S_MAIL_SEND
{
	MailInfo mail = 1;
}

message S_MAIL_LIST
{
	MailBoxInfo mailbox = 1;
}

message C_MAIL_LIST
{
	bool success = 1;
}

message C_MAIL_ITEM_RECV
{
	uint32 mailIndex = 1;
}

message S_GOLD
{
	uint64 value = 1;
}

message C_GOLD
{
	uint64 value = 1;
}

